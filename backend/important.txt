73033849522158456065867033397863695713600137448123456789012345678

https://myanimelist.net/v1/oauth2/authorize?response_type=code&client_id=3cd3d377b0cea037ca5ee134855afb46&redirect_uri=http://localhost&code_challenge=73033849522158456065867033397863695713600137448123456789012345678&code_challenge_method=plain

authorization_code:
curl -X POST https://myanimelist.net/v1/oauth2/token \
     -d "client_id=3cd3d377b0cea037ca5ee134855afb46" \
     -d "client_secret=ca3e7e50239d4d0553d4e82358d207746e58f01bdcce91fc5578194bbe76a183" \
     -d "grant_type=authorization_code" \
     -d "code=def5020089bcd22878552b9d46164d97f5d94fe26c377cabce166ddb273aa1d08aca1c5caf999f04cb3bfa91b061d2b7305478281c3078c06fc40237c2471fa28515e45048f6981dfb62ac4d91c36123da08833d275ef4b93445950da0713b3789f9c990d849730266a57ad738d224c6a61ee4506ce0c791522775f600f0fc301b14aeb5c1a2f03422fb4a7a5fca900314d2d06aaf1b0692c39ce9d0eb4b5a009e5718bc0bde21bc8e078eae2a103baadc899088cfaf8f76e3e86ee78fd292a8b7a0f8e7c80a7ce2bf57b753389386cd0ee0673eb28845cf2d5815eef8b7ce9419fedab1951721610ea2f8dd9d3f592e2071c889a3c96e37c762662af5cc5870a15c9822a46d175c5bffba1b7646501b08d0d57446ec66abf8177337949b5591ba374cf469625679b8b46b972dc035bc95f279ce13ccb096231ce45c0c10b9800a98424c4a657e01d0f7edc7c632132534ff18abc76e3f7a40ed0392b5a9fedba766173b5c2ef816ad7d2d2ee46ab22585c7e85b89dec58291835d5bbd34118fe718aa9392d3073210c59fe7d7d5789c781a6e3993c605e7052e8cb26bbea23d6092754f6fe821e7" \
     -d "redirect_uri=http://localhost" \
     -d "code_verifier=7303384952215845606586703339786369571360013744"



roltt@lololowka_fan MINGW64 ~
$ curl -X POST https://myanimelist.net/v1/oauth2/token \
     -d "client_id=3cd3d377b0cea037ca5ee134855afb46" \
     -d "client_secret=ca3e7e50239d4d0553d4e82358d207746e58f01bdcce91fc5578194bbe76a183" \
     -d "grant_type=authorization_code" \
     -d "code=def5020089bcd22878552b9d46164d97f5d94fe26c377cabce166ddb273aa1d08aca1c5caf999f04cb3bfa91b061d2b7305478281c3078c06fc40237c2471fa28515e45048f6981dfb62ac4d91c36123da08833d275ef4b93445950da0713b3789f9c990d849730266a57ad738d224c6a61ee4506ce0c791522775f600f0fc301b14aeb5c1a2f03422fb4a7a5fca900314d2d06aaf1b0692c39ce9d0eb4b5a009e5718bc0bde21bc8e078eae2a103baadc899088cfaf8f76e3e86ee78fd292a8b7a0f8e7c80a7ce2bf57b753389386cd0ee0673eb28845cf2d5815eef8b7ce9419fedab1951721610ea2f8dd9d3f592e2071c889a3c96e37c762662af5cc5870a15c9822a46d175c5bffba1b7646501b08d0d57446ec66abf8177337949b5591ba374cf469625679b8b46b972dc035bc95f279ce13ccb096231ce45c0c10b9800a98424c4a657e01d0f7edc7c632132534ff18abc76e3f7a40ed0392b5a9fedba766173b5c2ef816ad7d2d2ee46ab22585c7e85b89dec58291835d5bbd34118fe718aa9392d3073210c59fe7d7d5789c781a6e3993c605e7052e8cb26bbea23d6092754f6fe821e7" \
     -d "redirect_uri=http://localhost" \
     -d "code_verifier=7303384952215845606586703339786369571360013744"
{"token_type":"Bearer","expires_in":2678400,"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImIyNDUxYjNmY2FiZjU5NDM5M2ZjMDg5ZjI1NmY1YzhkOWY4ZDE0Mjc4NTkxOTQxNTViM2MzMjNhY2NkNWRiZmM1NTRmMDNmYTIyMDg4NzE3In0.eyJhdWQiOiIzY2QzZDM3N2IwY2VhMDM3Y2E1ZWUxMzQ4NTVhZmI0NiIsImp0aSI6ImIyNDUxYjNmY2FiZjU5NDM5M2ZjMDg5ZjI1NmY1YzhkOWY4ZDE0Mjc4NTkxOTQxNTViM2MzMjNhY2NkNWRiZmM1NTRmMDNmYTIyMDg4NzE3IiwiaWF0IjoxNzQ2OTU3NDkwLCJuYmYiOjE3NDY5NTc0OTAsImV4cCI6MTc0OTYzNTg5MCwic3ViIjoiMjAxMzkwNzgiLCJzY29wZXMiOltdfQ.FNLzuJZ9rr1Al0AkjdzrzjG3S_I6zkANJsrqkyhi9z-OjfpcUE2_hRpCO6k7XCPaAVrIZyEHyV-ROq-BBxOVb826sqBx11sp4bvg1YBR5usZ-OKbz7W7X_l8EMdTRvk698AU5-CBO9Ipw8oMh1Q8VceUCTF3rHTYLefQrT4tnXM-qXSSwDiqeJG73lKRGtUpmTX__ptCjBppZUvdnaLw-uLdp_568nFb9ykidneEr0UIxvojiC_t4WnYtajNU6ffr7UU4BLHRx8nsH2mFeTDBzBhNfHbCw307yZfv3X5hg9cB2xqG26i0szYql8v2XQfHy1yq0IUGAFLBa-rPE_KqA","refresh_token":"def50200639e925360959e66e0b780b0df7272c0aaffd7becbc396e847fa1bb94aa9a021d68922455435a9bd575c2e01d4343e11f8f2ff447441e059bfeed186bd65e961b85044497f1a8197dcb0f7d912219c2144b91686be41e6cd667145167b1f86559eef537e83c53d2aae89f9ce426f36071d4655140328b53c41a5ee066e00ea200680dc26347def93e80ff965a9f5b3ed2def7aea0d753cf90d4a79b63b3c9f3046181dcfcef6cd8403e84af24ec487d2a3f95082bd3ce93f7d0c174e20924a42e0103297bc2bc0819067f720b0b73b73d17bd0ec34ebc2be29f106be2ef19671efd153fea218cbd30df73bdd55506ae6edf7a806502b4cd6f6dab6200bd4af99b311bd2dc21af14b36a787532fc0b199f7b033c9e2db004c1a104588223cf1512046b5cb07ad265cd0d6d5344eeac0aef7146b8dd639b1a3784abed30ea15ffebdbd314277ef86689a68544c620d0a1b83061fd012447a50dc811bf63858408fa06244ff633b576f1c2ed7c0947bb2a3e79d97e47c53deca4e3799b8ba8c8305ff81a93676"}



 Как обновить access_token с помощью refresh_token:
Когда access_token истекает, ты можешь получить новый с помощью refresh_token.

Запрос:

bash
Копировать
Редактировать
curl -X POST https://myanimelist.net/v1/oauth2/token \
     -d "client_id=ТВОЙ_CLIENT_ID" \
     -d "client_secret=ТВОЙ_CLIENT_SECRET" \
     -d "grant_type=refresh_token" \
     -d "refresh_token=ТВОЙ_REFRESH_TOKEN"
Ответ будет похожим на:

json
Копировать
Редактировать
{
  "token_type": "Bearer",
  "expires_in": 2678400,
  "access_token": "НОВЫЙ_ACCESS_TOKEN",
  "refresh_token": "НОВЫЙ_REFRESH_TOKEN"
}
